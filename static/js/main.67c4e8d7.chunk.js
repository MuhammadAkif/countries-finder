(this["webpackJsonpcountries-finder"]=this["webpackJsonpcountries-finder"]||[]).push([[0],{122:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),c=t(81),l=t.n(c),o=(t(91),t(52)),i=t(22),u=t(8),s=t(36),d=t(82),m=t(20),v=(t(29),function(e){e.children,e.styles;var n=e.handleOnChange,t=e.placeHolder,a=void 0===t?"Enter text":t,c=Object(m.a)(e,["children","styles","handleOnChange","placeHolder"]);return r.a.createElement("input",Object.assign({placeholder:a,onChange:n},c))});var E=function(e){var n=e.handleSearch;return r.a.createElement(d.Debounce,{time:"200",handler:"onChange"},r.a.createElement(v,{placeholder:"Search Country",handleOnChange:n}))},h=function(e){var n=e.children,t=e.styles,a=void 0===t?null:t,c=Object(m.a)(e,["children","styles"]);return r.a.createElement("div",Object.assign({className:"div_table ".concat(a)},c),n)},f=function(e){var n=e.children,t=e.styles,a=void 0===t?null:t,c=Object(m.a)(e,["children","styles"]);return r.a.createElement("div",Object.assign({className:"div_table_row ".concat(a)},c),n)},g=function(e){var n=e.children,t=e.styles,a=void 0===t?null:t,c=e.handleOnClick,l=Object(m.a)(e,["children","styles","handleOnClick"]);return r.a.createElement("div",Object.assign({className:"div_table_col ".concat(a)},l,{onClick:c}),n)};var O=function(e){var n=e.columns,t=e.data,a=e.handleOnClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null,r.a.createElement(f,null,n.map((function(e){return r.a.createElement(g,null,e.header)}))),t.map((function(e){return r.a.createElement(f,{key:e.code},n.map((function(n,t){return r.a.createElement(g,{id:e.code,handleOnClick:a},e[n.accessor])})))}))))},p=t(53);function b(){var e=Object(p.a)(["\n           query COUNTRY($code: ID!) {\n                country(code: $code) {\n                    name,\n                    native,\n                    continent {\n                        name\n                    },\n                    currency,\n                    languages {\n                        name,\n                        native\n                    }\n                    capital,\n                    states {\n                        name\n                    }\n                }\n            }"]);return b=function(){return e},e}function y(){var e=Object(p.a)(["{\n            countries {\n                code,\n                name,\n                phone,\n                emoji\n            }\n        }"]);return y=function(){return e},e}var C={GET_COUNTRIES_LIST:Object(i.gql)(y()),GET_COUNTRY_DETAIL:Object(i.gql)(b())},j=function(e){var n=e.children,t=e.styles,a=void 0===t?null:t,c=Object(m.a)(e,["children","styles"]);return r.a.createElement("div",Object.assign({className:"grid-container ".concat(a)},c),n)},T=function(e){var n=e.children,t=e.styles,a=void 0===t?null:t,c=Object(m.a)(e,["children","styles"]);return r.a.createElement("div",Object.assign({className:"grid-item ".concat(a)},c),n)};var w=function(e){var n=e.countryDetail;return r.a.createElement(j,null,r.a.createElement(T,null,r.a.createElement("div",null,"Name: ",n.name," ")),r.a.createElement(T,null,r.a.createElement("div",null,"Native-Language: ",n.native," ")),r.a.createElement(T,null,r.a.createElement("div",null,"Languages: ",n.languages.map((function(e){return"".concat(e.native,", ")})))),r.a.createElement(T,null,r.a.createElement("div",null,"Continent: ",n.continent.name," ")),r.a.createElement(T,null,r.a.createElement("div",null,"Capital: ",n.capital," ")))};var k=function(e){var n=e.countryCode,t=Object(i.useQuery)(C.GET_COUNTRY_DETAIL,{variables:{code:n}}),a=t.data,c=t.loading,l=t.error;return c?r.a.createElement("div",null,"Loading Details"):l?"Error! ".concat(l):a?r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{countryDetail:a.country})):void 0};var N=function(e){var n=e.handleOnClickCountyrRow,t=Object(a.useState)(""),c=Object(s.a)(t,2),l=c[0],o=c[1],u=Object(a.useState)([]),d=Object(s.a)(u,2),m=d[0],v=d[1],h=Object(i.useQuery)(C.GET_COUNTRIES_LIST),f=h.data,g=h.loading,p=h.error;if(Object(a.useEffect)((function(){f&&v(f.countries)}),[f]),g)return r.a.createElement("div",null,"Loading...");if(p)return r.a.createElement("div",null,"Error... ",p);if(f){var b=[{header:"Name",accessor:"name"},{header:"Phone",accessor:"phone"},{header:"Flag",accessor:"emoji"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{handleSearch:function(e){o(e.target.value)}}),r.a.createElement(O,{handleOnClick:function(e){n(e.target.id)},columns:b,data:l?m.filter((function(e){return new RegExp(l,"ig").test(e.name)})):m}))}};var _=[[{type:"PUBLIC",props:{path:"/",exact:!0,component:function(){var e=Object(a.useState)(null),n=Object(s.a)(e,2),t=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{handleOnClickCountyrRow:function(e){c(e)}}),t?r.a.createElement(k,{countryCode:t}):null)}}}]].map((function(e){return e.map((function(e){var n="PRIVATE"===e.type?r.a.createElement("div",null,"Dummy Priovate Comp"):u.a;return r.a.createElement(n,e.props)}))})),I=function(){return r.a.createElement(u.c,null,_)},S=new i.ApolloClient({cache:new i.InMemoryCache,uri:"https://countries.trevorblades.com",connectToDevTools:!0}),D=function(){return r.a.createElement(o.a,null,r.a.createElement(i.ApolloProvider,{client:S},r.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,n,t){},86:function(e,n,t){e.exports=t(122)},91:function(e,n,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.67c4e8d7.chunk.js.map